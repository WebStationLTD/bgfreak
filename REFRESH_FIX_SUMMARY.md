# üîß –ü–æ–ø—Ä–∞–≤–∫–∞ –Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å –∏–∑—á–µ–∑–≤–∞—â–∏ –ø—Ä–æ–¥—É–∫—Ç–∏ –ø—Ä–∏ refresh –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –µ—Ç–∏–∫–µ—Ç–∏

## üî¥ –ü—Ä–æ–±–ª–µ–º

–ü—Ä–∏ refresh (F5) –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∏ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤–∏ –µ—Ç–∏–∫–µ—Ç–∏:
- –ü—Ä–æ–¥—É–∫—Ç–∏—Ç–µ –∏–∑—á–µ–∑–≤–∞—Ö–∞
- –ü–æ–∫–∞–∑–≤–∞—Ö–∞ —Å–µ –≥—Ä–µ—à–Ω–∏/—Å—Ç–∞—Ä–∏ –ø—Ä–æ–¥—É–∫—Ç–∏
- –ü–æ–ª—É—á–∞–≤–∞—à–µ —Å–µ 404 –≥—Ä–µ—à–∫–∞

**–ù–∞ `/magazin` —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ç–∞ refresh —Ä–∞–±–æ—Ç–µ—à–µ –Ω–æ—Ä–º–∞–ª–Ω–æ.**

## üîç –ü—Ä–∏—á–∏–Ω–∏

### 1. **–£—Å–ª–æ–≤–Ω–æ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ –≤ `onMounted`**
```javascript
// –ì–†–ï–®–ï–ù –ö–û–î
if (products.value.length === 0 || !hasEverLoaded.value) {
  loadCategoryProducts() // –ó–∞—Ä–µ–∂–¥–∞ –ø—Ä–æ–¥—É–∫—Ç–∏
} else {
  // –ù–ï –∑–∞—Ä–µ–∂–¥–∞ –ø—Ä–æ–¥—É–∫—Ç–∏ - –ü–†–û–ë–õ–ï–ú!
}
```

–ü—Ä–∏ refresh, –∞–∫–æ –∏–º–∞—à–µ **—Å—Ç–∞—Ä–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ** –æ—Ç –ø—Ä–µ–¥–∏—à–Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è (`products.value.length > 0`), –∫–æ–¥—ä—Ç –ù–ï –∑–∞—Ä–µ–∂–¥–∞—à–µ –Ω–æ–≤–∏—Ç–µ –ø—Ä–æ–¥—É–∫—Ç–∏.

### 2. **–ù–µ—Ä–µ–∞–∫—Ç–∏–≤–Ω–∏ slug –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏**
```javascript
// –ì–†–ï–®–ï–ù –ö–û–î
const slug = decodedSlug; // –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ - –Ω–µ —Å–µ –æ–±–Ω–æ–≤—è–≤–∞!
const CATEGORY_CACHE_KEY = `woonuxt_category_${slug}`; // –ò–∑–ø–æ–ª–∑–≤–∞ —Å—Ç–∞—Ä–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç
```

Slug –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏—Ç–µ –±—è—Ö–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏ –∏ –Ω–µ —Å–µ –æ–±–Ω–æ–≤—è–≤–∞—Ö–∞ –ø—Ä–∏ –ø—Ä–æ–º—è–Ω–∞ –Ω–∞ route, –≤–æ–¥–µ–π–∫–∏ –¥–æ:
- –ì—Ä–µ—à–Ω–æ –∫–µ—à–∏—Ä–∞–Ω–µ
- –ì—Ä–µ—à–Ω–∏ GraphQL –∑–∞—è–≤–∫–∏
- –ì—Ä–µ—à–Ω–∏ SEO URL-–∏

### 3. **–õ–∏–ø—Å–∞ –Ω–∞ race condition –∑–∞—â–∏—Ç–∞**
–ü—Ä–∏ –µ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ `onMounted` –∏ route watcher, –º–æ–∂–µ—à–µ –¥–∞ –∏–º–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∏.

## ‚úÖ –†–µ—à–µ–Ω–∏—è

### 1. **–í–ò–ù–ê–ì–ò –∑–∞—Ä–µ–∂–¥–∞–º–µ –ø—Ä–æ–¥—É–∫—Ç–∏—Ç–µ –ø—Ä–∏ mount**
```javascript
// –ü–†–ê–í–ò–õ–ï–ù –ö–û–î
onMounted(async () => {
  // ... –¥—Ä—É–≥ –∫–æ–¥ ...
  
  // ‚ö° –ö–†–ò–¢–ò–ß–ù–û: –í–ò–ù–ê–ì–ò –∑–∞—Ä–µ–∂–¥–∞–º–µ –ø—Ä–æ–¥—É–∫—Ç–∏—Ç–µ –ø—Ä–∏ mount –∑–∞ –¥–∞ –∏–∑–±–µ–≥–Ω–µ–º —Å—Ç–∞—Ä–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ
  // –¢–æ–≤–∞ –µ –∫–ª—é—á—ä—Ç –∑–∞ –ø—Ä–∞–≤–∏–ª–Ω–∞ —Ä–∞–±–æ—Ç–∞ –ø—Ä–∏ refresh (F5)
  loadCategoryProducts().then(() => {
    nextTick(() => {
      updateCategoryNextPrevLinks();
    });
  });
});
```

### 2. **–ù–∞–ø—Ä–∞–≤–∏—Ö–º–µ slug –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏—Ç–µ reactive**

**–ó–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:**
```javascript
// –ü–†–ê–í–ò–õ–ï–ù –ö–û–î
const currentSlug = ref(urlSegments[urlSegments.length - 1] || '');
const slug = computed(() => currentSlug.value); // Computed property
const getCategoryCacheKey = () => `woonuxt_category_${slug.value}`; // –î–∏–Ω–∞–º–∏—á–µ–Ω –∫–ª—é—á
```

**–ó–∞ –µ—Ç–∏–∫–µ—Ç–∏:**
```javascript
// –ü–†–ê–í–ò–õ–ï–ù –ö–û–î
const currentSlug = ref(decodedSlug);
const getTagCacheKey = () => `woonuxt_tag_${currentSlug.value}`; // –î–∏–Ω–∞–º–∏—á–µ–Ω –∫–ª—é—á
```

### 3. **–î–æ–±–∞–≤–∏—Ö–º–µ race condition –∑–∞—â–∏—Ç–∞**
```javascript
// –ü–†–ê–í–ò–õ–ï–ù –ö–û–î
const loadCategoryProducts = async () => {
  // ‚ö° –ü–û–ü–†–ê–í–ö–ê: –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç—è–≤–∞–º–µ race conditions
  if (isNavigating) {
    return;
  }
  
  try {
    // ... –∑–∞—Ä–µ–∂–¥–∞–Ω–µ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏ ...
  } catch (error) {
    hasEverLoaded.value = true;
  }
};
```

### 4. **–û–±–Ω–æ–≤–∏—Ö–º–µ –≤—Å–∏—á–∫–∏ –º–µ—Å—Ç–∞ —Å slug**
- –í—Å–∏—á–∫–∏ GraphQL –∑–∞—è–≤–∫–∏ —Å–µ–≥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç `slug.value` –∏–ª–∏ `currentSlug.value`
- –í—Å–∏—á–∫–∏ SEO URL-–∏ –∏–∑–ø–æ–ª–∑–≤–∞—Ç –∞–∫—Ç—É–∞–ª–Ω–∞—Ç–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç
- –ö–µ—à–∏—Ä–∞–Ω–µ—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞ –¥–∏–Ω–∞–º–∏—á–Ω–∏ –∫–ª—é—á–æ–≤–µ

## üìÅ –ü—Ä–æ–º–µ–Ω–µ–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ

1. `woonuxt_base/app/pages/product-cat/[...categories].vue`
2. `woonuxt_base/app/pages/product-tag/[slug].vue`

## üéØ –†–µ–∑—É–ª—Ç–∞—Ç

‚úÖ Refresh (F5) —Ä–∞–±–æ—Ç–∏ –∫–æ—Ä–µ–∫—Ç–Ω–æ –≤—ä–≤ –≤—Å–∏—á–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏  
‚úÖ Refresh (F5) —Ä–∞–±–æ—Ç–∏ –∫–æ—Ä–µ–∫—Ç–Ω–æ –≤—ä–≤ –≤—Å–∏—á–∫–∏ –µ—Ç–∏–∫–µ—Ç–∏  
‚úÖ –ü—Ä–æ–¥—É–∫—Ç–∏—Ç–µ —Å–µ –∑–∞—Ä–µ–∂–¥–∞—Ç –ø—Ä–∞–≤–∏–ª–Ω–æ –ø—Ä–∏ –≤—Å—è–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è  
‚úÖ –ù—è–º–∞ 404 –≥—Ä–µ—à–∫–∏ –ø—Ä–∏ –≤–∞–ª–∏–¥–Ω–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∏  
‚úÖ –ü—Ä–∞–≤–∏–ª–Ω–æ –∫–µ—à–∏—Ä–∞–Ω–µ –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ  
‚úÖ –ü—Ä–∞–≤–∏–ª–Ω–∏ SEO URL-–∏ –∏ canonical links  

## üß™ –¢–µ—Å—Ç–≤–∞–Ω–µ

–ú–æ–ª—è, —Ç–µ—Å—Ç–≤–∞–π—Ç–µ —Å–ª–µ–¥–Ω–æ—Ç–æ:

1. **–û—Å–Ω–æ–≤–Ω–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:**
   - –û—Ç–≤–æ—Ä–µ—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è (–Ω–∞–ø—Ä. `/product-cat/fitness-equipment`)
   - –ù–∞—Ç–∏—Å–Ω–µ—Ç–µ F5 (refresh)
   - –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –¥–∞–ª–∏ –ø—Ä–æ–¥—É–∫—Ç–∏—Ç–µ —Å–µ –∑–∞—Ä–µ–∂–¥–∞—Ç

2. **–ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏:**
   - –û—Ç–≤–æ—Ä–µ—Ç–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è (–Ω–∞–ø—Ä. `/product-cat/fitness-equipment/dumbbells`)
   - –ù–∞—Ç–∏—Å–Ω–µ—Ç–µ F5
   - –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –¥–∞–ª–∏ –ø—Ä–æ–¥—É–∫—Ç–∏—Ç–µ —Å–µ –∑–∞—Ä–µ–∂–¥–∞—Ç

3. **–ü–∞–≥–∏–Ω–∞—Ü–∏—è:**
   - –û—Ç–≤–æ—Ä–µ—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ 2+ –æ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏—è
   - –ù–∞—Ç–∏—Å–Ω–µ—Ç–µ F5
   - –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –¥–∞–ª–∏ –ø—Ä–æ–¥—É–∫—Ç–∏—Ç–µ –Ω–∞ —Ç–∞–∑–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–µ –∑–∞—Ä–µ–∂–¥–∞—Ç

4. **–ü—Ä–æ–¥—É–∫—Ç–æ–≤–∏ –µ—Ç–∏–∫–µ—Ç–∏:**
   - –û—Ç–≤–æ—Ä–µ—Ç–µ –µ—Ç–∏–∫–µ—Ç (–Ω–∞–ø—Ä. `/product-tag/new-arrival`)
   - –ù–∞—Ç–∏—Å–Ω–µ—Ç–µ F5
   - –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –¥–∞–ª–∏ –ø—Ä–æ–¥—É–∫—Ç–∏—Ç–µ —Å–µ –∑–∞—Ä–µ–∂–¥–∞—Ç

5. **–° —Ñ–∏–ª—Ç—Ä–∏:**
   - –ü—Ä–∏–ª–æ–∂–µ—Ç–µ —Ñ–∏–ª—Ç—Ä–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏—è
   - –ù–∞—Ç–∏—Å–Ω–µ—Ç–µ F5
   - –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –¥–∞–ª–∏ —Ñ–∏–ª—Ç—Ä–∏—Ä–∞–Ω–∏—Ç–µ –ø—Ä–æ–¥—É–∫—Ç–∏ —Å–µ –∑–∞—Ä–µ–∂–¥–∞—Ç

## üìù –ó–∞–±–µ–ª–µ–∂–∫–∏

- –ü—Ä–æ–º–µ–Ω–∏—Ç–µ —Å–∞ —Å—ä–≤–º–µ—Å—Ç–∏–º–∏ —Å—ä—Å —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—â–∏—è –∫–æ–¥
- –ù—è–º–∞ linter –≥—Ä–µ—à–∫–∏
- –ò–∑–ø–æ–ª–∑–≤–∞ —Å—ä—â–∏—è –ø–æ–¥—Ö–æ–¥ –∫–∞—Ç–æ —Ä–∞–±–æ—Ç–µ—â–∞—Ç–∞ `/magazin` —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- –ó–∞–ø–∞–∑–≤–∞ –≤—Å–∏—á–∫–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞ –±—ä—Ä–∑–∏–Ω–∞ –∏ –∫–µ—à–∏—Ä–∞–Ω–µ

